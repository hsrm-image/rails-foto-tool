// Disable turbolinks for this page, because it breaks the infinite scroll on some browsers (Duplicate images)
- content_for(:body_attributes) do
  data-turbolinks="false" 
= javascript_pack_tag 'images', 'data-turbolinks-track': 'reload'

%h1 Listing images

= link_to 'New Image', new_image_path

#cards-container
  = render @images
.page-load-status
  .infinite-scroll-request
    %h2 Loading...
  .infinite-scroll-last{style: "display: none;"}
    %hr
    %h2 End
  .infinite-scroll-error{style: "display: none;"}
    %h2 Error loading next images


%table
  %thead
    %tr
      %th Title
      %th Description
      %th
      %th
      %th

  %tbody
    - @images.each do |image|
      %tr
        %td= image.title
        %td= image.description
        %td= link_to 'Show', image
        %td= link_to 'Edit', edit_image_path(image)
        %td= link_to 'Destroy', image, method: :delete, data: { confirm: 'Are you sure?' }

%br


= paginate @images